# 空のGitHubリポジトリと紐付けを行う
# $1: リポジトリ名
glink()
{
  if [ $# -ne 0 ]; then
    git init
    git remote add origin git@github.com:tamafull/$1.git
    git branch -M main
    git add .
    git commit -m 'Initial commit'
    git push -u origin main
  else
    echo "$\1: Repository Name"
  fi
}

# 変更を全てPushする
# $1: コミットメッセージ
gall()
{
  git add .
  if [ $# -ne 0 ]; then
    git commit -m $1
  else
    git commit
  fi
  git push
}

# ssh key作成
# $1: キーの名前
# $2: コメント
sshg()
{
  if [ $# -eq 1 ]; then
    ssh-keygen -t rsa -b 4096 -f $1
  elif [ $# -eq 2 ]; then 
    ssh-keygen -t rsa -b 4096 -f $1 -C $2
  else
    echo "$\1: Key Name"
    echo "$\2: Comment"
    return
  fi

  pbcopy < ~/.ssh/$1.pub
  echo "Step1 Done. Do you register on GitHub? Then follow the steps below."
  echo "Step2: Add PublicKey(Already run $ pbcopy < ~/.ssh/$1.pub)"
  echo "Step3: ~/.ssh/config"
  echo "Step4: Run 'ssh-add ~/.ssh/$1'"
  echo "Step5: Run 'ssh -T git@github.com'"
}

# 便利系
alias c='pbcopy'
alias o='open'
alias g='grep'
alias dd='cd ~/Library/Mobile\ Documents/com~apple~CloudDocs'
alias d='cd ~/Google\ Drive/マイドライブ/'
alias h='cd ~'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias ..2='cd ../..'
alias ..3='cd ../../..'
alias ls='ls -G'
alias ll='ls -l'
alias la='ls -A'
alias l='clear && ls'

# Git
alias ga='git add'
alias gd='git diff'
alias gs='git status'
alias gp='git push'
alias gb='git branch'
alias gr='git reset --hard origin/main'
alias gd='git diff'
alias gst='git status'
alias gco='git checkout'
alias gf='git fetch'
alias gc='git commit'

# Ruby on Rails
alias b='bundle'
alias be='bundle exec'
alias bi='bundle install'
alias bu='bundle update'
alias rc='bundle exec rails c'
alias rs='bundle exec rails s'

# Python
alias p='python'

# Node.js
alias n='npm'
alias ni='npm install'
alias nr='npm run'
alias nb='npm run build'
alias nrb='npm rebuild'
alias y='yarn'
alias yi='yarn install'
alias yr='yarn run'
alias yb='yarn run build'
alias yrb='yarn rebuild'

# Docker
alias dk='docker'

# Homebrew
alias br='brew'
alias bri='brew install'
alias bru='brew update'
alias brui='brew uninstall'

# PostgreSQL
alias sps='brew services start postgresql'

# Static Site Generator
# alias gtb='gatsby'
# alias gtbd='gatsby develop'
# alias gtbb='gatsby build'
# alias gtbc='gatsby clean'
alias xs='hexo server'
alias blog='code ~/site/hexo-blog'

# エディタ
alias v='code'

# 単一キーの残り（良さそうなの思いついたら使う）
alias a=''
# alias b=''
# alias c=''
# alias d=''
alias e=''
alias f='flutter' # あまり使わない気がする
# alias g=''
# alias h=''
alias i=''
alias j=''
alias k=''
# alias l=''
alias m=''
# alias n=''
# alias o=''
# alias p=''
alias q=''
alias r=''
alias s=''
alias t=''
alias u=''
# alias v=''
alias w=''
alias x=''
# alias y=''
# alias z=''

# 各種設定
export EDITOR=vim
eval "$(direnv hook $SHELL)"

# OS毎の設定
if [ "$(uname)" = 'Darwin' ]; then
  # Mac
  source "$(cd $(dirname $0); pwd)/.zshrc"
elif [ "$(expr substr $(uname -s) 1 5)" = 'Linux' ]; then
  # Linux
  source "$(cd $(dirname $0); pwd)/.bashrc"
elif [ "$(expr substr $(uname -s) 1 10)" = 'MINGW32_NT' ]; then                                                                                           
  # Windows
  source "$(cd $(dirname $0); pwd)/.winrc"
  # alias pbcopy="/c/Windows/System32/clip.exe"
  # alias vi=vim
  # alias targz="tar xvzf "
else
  echo "$(uname -a)"
fi
